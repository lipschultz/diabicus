#:kivy 1.0.9

<Button>:
    color: .8,.9,0,1

<Light@Image>:
    source: 'diabicus/data/images/light_grey_off.png'


<KeyButton@Button>
    font_size: 24
    background_normal: 'diabicus/data/images/button_brown_normal.png'
    background_down: 'diabicus/data/images/button_brown_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1

<EntryButton@KeyButton>
    on_press: app.press_key(self.text)

<EdgeButton@Button>
    font_size: 16

<EntryEdgeButton@KeyButton>
    on_press: app.press_key(self.text)

<EdgeToggleButton@ToggleButton>
    font_size: 24
    background_normal: 'diabicus/data/images/button_yellow_normal.png'
    background_down: 'diabicus/data/images/button_yellow_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1


<NumberButton@EntryButton>
    background_normal: 'diabicus/data/images/button_blue_normal.png'
    background_down: 'diabicus/data/images/button_blue_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1

<ConstantsEdgeButton@EntryEdgeButton>
    background_normal: 'diabicus/data/images/button_green_normal.png'
    background_down: 'diabicus/data/images/button_green_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1



<ArithmeticButton@EntryButton>
    background_normal: 'diabicus/data/images/button_red_normal.png'
    background_down: 'diabicus/data/images/button_red_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1

<ArithmeticFunctionButton@KeyButton>
    background_normal: 'diabicus/data/images/button_red_normal.png'
    background_down: 'diabicus/data/images/button_red_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1

<FunctionEdgeButton@EdgeButton>
    background_normal: 'diabicus/data/images/button_orange_normal.png'
    background_down: 'diabicus/data/images/button_orange_pressed.png'
    border: 1, 1, 1, 1
    color: 0, 0, 0, 1



<RightSide@BoxLayout>
    orientation: 'vertical'
    size_hint_x: 0.1
    Light
        id: light_right_0
    Light
        id: light_right_1
    Light
        id: light_right_2
    FunctionEdgeButton:
        id: button_sin
        text: 'sin([i]x[/i])'
        markup: True
        on_press: app.press_function_key('sin')
    FunctionEdgeButton:
        id: button_cos
        text: 'cos([i]x[/i])'
        markup: True
        on_press: app.press_function_key('cos')
    FunctionEdgeButton:
        id: button_tan
        text: 'tan([i]x[/i])'
        markup: True
        on_press: app.press_function_key('tan')
    EdgeButton:
        id: button_x10pow
        background_normal: 'diabicus/data/images/button_orange_normal.png'
        background_down: 'diabicus/data/images/button_orange_pressed.png'
        border: 1, 1, 1, 1
        color: 0, 0, 0, 1
        text: '[i]x[/i]×10^[i]y[/i]'
        markup: True
        on_press: app.press_key('×10^')
    Light
        id: light_right_3
    Light
        id: light_right_4
    Light
        id: light_right_5
    Light
        id: light_right_6

<TopBottomBorder@BoxLayout>
    orientation: 'horizontal'
    size_hint_y: 0.13

<TopBorder@TopBottomBorder>
    EdgeToggleButton:
        id: angle_units
        text: '[s] Degrees [/s]\n[b]Radians[/b]'
        font_size: 12
        markup: True
        halign: 'center'
        state: 'down'
        on_press: app.toggle_angle()
    Light
        id: light_top_0
    Light
        id: light_top_1
    Light
        id: light_top_2
    Light
        id: light_top_3
    Light
        id: light_top_4
    Light
        id: light_top_5
    Light
        id: light_top_6
    Light
        id: light_top_7
    Light
        id: light_top_8
    Light
        id: light_top_9

<BottomBorder@TopBottomBorder>
    Light
        id: light_bottom_0
    Light
        id: light_bottom_1
    Light
        id: light_bottom_2
    Light
        id: light_bottom_3
    Light
        id: light_bottom_4
    Light
        id: light_bottom_5
    Light
        id: light_bottom_6
    Light
        id: light_bottom_7
    Light
        id: light_bottom_8
    Light
        id: light_bottom_9
    Light
        id: light_bottom_10

<LeftSide@BoxLayout>
    orientation: 'vertical'
    size_hint_x: 0.1
    Light:
        id: light_left_0
    Light
        id: light_left_1
    Light
        id: light_left_2
    ConstantsEdgeButton:
        id: button_pi
        text: 'π'
    ConstantsEdgeButton:
        id: button_tau
        text: 'τ'
    ConstantsEdgeButton:
        id: button_e
        text: 'e'
    ConstantsEdgeButton:
        id: button_i
        text: 'i'
    ConstantsEdgeButton:
        id: button_phi
        text: 'φ'
    Light
        id: light_left_3
    Light
        id: light_left_4
    Light
        id: light_left_5

<BasicKeypad@GridLayout>
    cols: 5

    KeyButton:
        id: clear_button
        text: 'Clear'
        markup: True
        halign: 'center'
        on_press: app.clear()
    KeyButton:
        id: button_bksp
        text: 'Bksp'
        on_press: app.bksp()
    KeyButton:
        id: answer_button
        text: 'Ans\n[size=16](0)[/size]'
        markup: True
        halign: 'center'
        valign: 'middle'
        on_press: app.press_ans()
    ArithmeticButton:
        id: button_left_paren
        text: '('
    ArithmeticButton:
        id: button_right_paren
        text: ')'

    NumberButton:
        id: button_7
        text: '7'
    NumberButton:
        id: button_8
        text: '8'
    NumberButton:
        id: button_9
        text: '9'
    ArithmeticButton:
        id: button_plus
        text: '+'
    ArithmeticFunctionButton:
        id: button_mod
        text: 'mod\n[size=16](Get remainder)[/size]'
        markup: True
        halign: 'center'
        valign: 'middle'
        on_press: app.press_key('mod')

    NumberButton:
        id: button_4
        text: '4'
    NumberButton:
        id: button_5
        text: '5'
    NumberButton:
        id: button_6
        text: '6'
    ArithmeticButton:
        id: button_minus
        text: '-'
    ArithmeticButton:
        id: button_right_paren
        text: ')'

    NumberButton:
        id: button_1
        text: '1'
    NumberButton:
        id: button_2
        text: '2'
    NumberButton:
        id: button_3
        text: '3'
    ArithmeticButton:
        id: button_multiply
        text: '×'
    ArithmeticButton:
        id: button_power
        text: '^'

    NumberButton:
        id: button_0
        text: '0'
    NumberButton:
        id: button_decimal
        text: '.'
    KeyButton:
        id: button_equals
        background_normal: 'diabicus/data/images/button_purple_normal.png'
        background_down: 'diabicus/data/images/button_purple_pressed.png'
        border: 1, 1, 1, 1
        color: 0, 0, 0, 1
        text: '='
        on_press: app.calculate()
    ArithmeticButton:
        id: button_divide
        text: '/'
    ArithmeticFunctionButton:
        id: button_ln
        text: 'ln([i]x[/i])\n[size=16](Natural Log)[/size]'
        markup: True
        halign: 'center'
        valign: 'middle'
        on_press: app.press_function_key('ln')



<CalcMainLayout>:
    orientation: 'horizontal'

    LeftSide
        id: left_side

    BoxLayout:
        orientation: 'vertical'

        TopBorder
            id: top_border

        Label:
            id: input
            text: ''
            markup: True
            font_size: 16
            text_size: self.size
            halign: 'left'
            valign: 'middle'
            size_hint_y: 0.0475
        Label:
            id: output
            text: ''
            markup: True
            font_size: 20
            text_size: self.size
            halign: 'right'
            valign: 'middle'
            size_hint_y: 0.1
        Button:
            background_color: 0, 0, 0, 1
            color: 0.5, 0.5, 1, 1
            id: fact
            text: ''
            markup: True
            font_size: 12
            text_size: self.size
            halign: 'center'
            valign: 'top'
            size_hint_y: 0.0475
            on_press: app.open_fact()

        BasicKeypad:
            id: basic_keypad

        BottomBorder
            id: bottom_border

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.0475

            Label:
                id: music_display
                text: ''
                font_size: 12
                halign: 'left'
                valign: 'top'

            Label:
                id: num_calculations
                text: '# Calculations: 0'
                font_size: 12
                halign: 'left'
                valign: 'top'

    RightSide:
        id: right_side
